angular.module("mBoard.categories",["ui.bootstrap"]).config(["$stateProvider",function(e){e.state("categories",{url:"/categories",templateUrl:"app/core/categories/templates/categories.tpl.html"})}]);
angular.module("mBoard.latest",["ui.bootstrap"]).config(["$stateProvider",function(t){t.state("latest",{url:"/latest",templateUrl:"app/core/latest/templates/latest.tpl.html"})}]);
angular.module("mBoard.thread",["ui.bootstrap"]).config(["$stateProvider",function(t){t.state("thread",{url:"/thread/:id",template:'<div class="thread"><ui-view/></div>'})}]);

angular.module("mBoard",["ui.router","ui.bootstrap","toastr","mBoard.latest","mBoard.categories"]).run(["$rootScope","$state","$stateParams",function(r,e,o){r.$state=e,r.$stateParams=o,r.$on("$stateChangeStart",function(r,e,o,t,n){}),r.$on("$stateChangeSuccess",function(e,o,t,n,a){r.previousState=n.name,r.currentState=o.name,document.body.scrollTop=document.documentElement.scrollTop=0}),r.$on("$stateChangeError",function(r,o,t,n,a,s){console.error("Error while trying to change to state",o,s),e.go("landing")}),r.$on("$stateNotFound",function(r,o,t,n){console.error("State not found: ",o,", coming from",t),e.go("landing")}),r.$on("$viewContentLoaded",function(r){});var t="yxPJx5ySs8SWgumIEs2JfYVsI1OTU6MtN2C1iG8U",n="3t3byCFpjKO6RL48enhDucH7ETGtNAaxuUcJgTi6";Parse.initialize(t,n);var a=localStorage.getItem("sessionToken");a&&Parse.User.become(a).then(function(r){},function(r){localStorage.removeItem("sessionToken"),console.log(r)})}]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","toastrConfig",function(r,e,o,t,n){"use strict";o.interceptors.push("errorsInterceptor"),e.when("","/"),e.otherwise("/"),angular.extend(n,{allowHtml:!0,positionClass:"toast-bottom-right"}),t.html5Mode(!0)}]).factory("errorsInterceptor",["$q","$injector","toastr",function(r,e,o){function t(e){var t=e.data,n=t.error?t.error.message||t.error.error:t;return console.log("Server error:",n),o.error("",n),r.reject(e)}function n(r){var e;return e&&(r.headers=r.headers||{},r.headers.Authorization="Bearer "+e),r}return{request:n,responseError:t}}]);
angular.module("mBoard.categories").controller("CategoriesCtrl",["$scope",function(o){}]);

angular.module("mBoard.latest").controller("LatestCtrl",["$scope",function(t){}]);





angular.module("mBoard").controller("MBoardCtrl",["$rootScope","$scope",function(o,r){}]);
angular.module("mBoard").directive("mbFooter",function(){return{restrict:"E",replace:!0,templateUrl:"app/common/components/footer/templates/footer.tpl.html"}});

angular.module("mBoard").directive("mbHeader",function(){return{restrict:"E",replace:!0,templateUrl:"app/common/components/header/templates/header.tpl.html"}});
angular.module("mBoard").factory("CategoriesSvc",["$http",function(e){function t(){return e.get("api/categories")}function r(t){return e.get("api/categories/"+t)}function a(t,r){return e.postt("api/categories",{name:t,latestThreads:r})}function o(t,r){return e.put("api/categories/"+t,{name:r})}function n(t){return e["delete"]("api/categories/"+t)}return{getCategories:t,getCategory:r,postCategory:a,putCategory:o,deleteCategory:n}}]);
angular.module("mBoard").factory("ThreadsSvc",["$http",function(t){function e(e,r){return t.get("api/threads",{params:{categoryId:e,skip:r}})}function r(e){return t.get("api/threads/"+e)}function a(e,r,a){return t.postt("api/threads",{title:e,body:r,categoryId:a})}function d(e,r,a,d){return t.put("api/threads/"+e,{title:r,body:a,categoryId:d})}function n(e){return t["delete"]("api/threads/"+e)}return{getThreads:e,getThread:r,postThread:a,putThread:d,deleteThread:n}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLm1vZHVsZS5qcyIsImNvcmUvbGF0ZXN0L2xhdGVzdC5tb2R1bGUuanMiLCJjb3JlL3RocmVhZC90aHJlYWQubW9kdWxlLmpzIiwiY29yZS90b3BpYy9tb2R1bGUubW9kdWxlLmpzIiwiYXBwLmpzIiwiY29yZS9jYXRlZ29yaWVzL2NvbnRyb2xsZXJzL2NhdGVnb3JpZXMuY29udHJvbGxlci5qcyIsImNvcmUvY2F0ZWdvcmllcy9zZXJ2aWNlcy9zZXJ2aWNlLnNlcnZpY2UuanMiLCJjb3JlL2xhdGVzdC9jb250cm9sbGVycy9sYXRlc3QuY29udHJvbGxlci5qcyIsImNvcmUvbGF0ZXN0L3NlcnZpY2VzL3NlcnZpY2Uuc2VydmljZS5qcyIsImNvcmUvdGhyZWFkL2NvbnRyb2xsZXJzL2NvbnRyb2xsZXIuY29udHJvbGxlci5qcyIsImNvcmUvdGhyZWFkL3NlcnZpY2VzL3NlcnZpY2Uuc2VydmljZS5qcyIsImNvcmUvdG9waWMvY29udHJvbGxlcnMvY29udHJvbGxlci5jb250cm9sbGVyLmpzIiwiY29yZS90b3BpYy9zZXJ2aWNlcy9zZXJ2aWNlLnNlcnZpY2UuanMiLCJhcHAuY29udHJvbGxlci5qcyIsImNvbW1vbi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuZGlyZWN0aXZlLmpzIiwiY29tbW9uL2NvbXBvbmVudHMvaGVhZGVyL2NvbnRyb2xsZXJzL2hlYWRlci5jb250cm9sbGVyLmpzIiwiY29tbW9uL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5kaXJlY3RpdmUuanMiLCJjb21tb24vc2VydmljZXMvY2F0ZWdvcmllcy5zZXJ2aWNlLmpzIiwiY29tbW9uL3NlcnZpY2VzL3RocmVhZHMuc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCJzdGF0ZSIsInVybCIsInRlbXBsYXRlVXJsIiwidGVtcGxhdGUiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiJHN0YXRlUGFyYW1zIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZXYiLCJ0byIsImZyb20iLCJwcmV2aW91c1N0YXRlIiwibmFtZSIsImN1cnJlbnRTdGF0ZSIsImRvY3VtZW50IiwiYm9keSIsInNjcm9sbFRvcCIsImRvY3VtZW50RWxlbWVudCIsImVycm9yIiwiY29uc29sZSIsImdvIiwidW5mb3VuZFN0YXRlIiwiUEFSU0VfQVBQX0lEIiwiUEFSU0VfSkFWQVNDUklQVF9LRVkiLCJQYXJzZSIsImluaXRpYWxpemUiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJVc2VyIiwiYmVjb21lIiwidGhlbiIsInVzZXIiLCJyZW1vdmVJdGVtIiwibG9nIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwidG9hc3RyQ29uZmlnIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsIndoZW4iLCJvdGhlcndpc2UiLCJleHRlbmQiLCJhbGxvd0h0bWwiLCJwb3NpdGlvbkNsYXNzIiwiaHRtbDVNb2RlIiwiZmFjdG9yeSIsIiRxIiwiJGluamVjdG9yIiwidG9hc3RyIiwicmVzcG9uc2VFcnJvciIsInJlamVjdGlvbiIsImRhdGEiLCJtc2ciLCJtZXNzYWdlIiwicmVqZWN0IiwicmVxdWVzdCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiY29udHJvbGxlciIsIiRzY29wZSIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwicmVwbGFjZSIsIiRodHRwIiwiZ2V0Q2F0ZWdvcmllcyIsImdldCIsImdldENhdGVnb3J5IiwiaWQiLCJwb3N0Q2F0ZWdvcnkiLCJsYXRlc3RUaHJlYWRzIiwicG9zdHQiLCJwdXRDYXRlZ29yeSIsInB1dCIsImRlbGV0ZUNhdGVnb3J5IiwiZ2V0VGhyZWFkcyIsImNhdGVnb3J5SWQiLCJza2lwIiwicGFyYW1zIiwiZ2V0VGhyZWFkIiwicG9z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QUc3RSxRQUFTTSxHQUFVZCxFQUFJYSxFQUFPbkUsRUFBTThELEdBQ2hDLE1BQU9aLEdBQU1TLElBQUksZUFBaUJMLEdBQUthLE1BQU9BLEVBQU9uRSxLQUFNQSxFQUFNOEQsV0FBWUEsSUFHakYsUUFBU08sR0FBYWYsR0FDbEIsTUFBT0osR0FBQUEsVUFBYSxlQUFpQkksR0FHekMsT0FDSU8sV0FBWUEsRUFDWkksVUFBV0EsRUFDWEMsV0FBWUEsRUFDWkUsVUFBV0EsRUFDWEMsYUFBY0EiLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ21Cb2FyZC5jYXRlZ29yaWVzJywgW1xyXG4gICAgJ3VpLmJvb3RzdHJhcCdcclxuXSlcclxuICAgIC5jb25maWcoZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdjYXRlZ29yaWVzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2NhdGVnb3JpZXMnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvY29yZS9jYXRlZ29yaWVzL3RlbXBsYXRlcy9jYXRlZ29yaWVzLnRwbC5odG1sJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdtQm9hcmQubGF0ZXN0JywgW1xyXG4gICAgJ3VpLmJvb3RzdHJhcCdcclxuXSlcclxuICAgIC5jb25maWcoZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLnN0YXRlKCdsYXRlc3QnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvbGF0ZXN0JyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvcmUvbGF0ZXN0L3RlbXBsYXRlcy9sYXRlc3QudHBsLmh0bWwnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ21Cb2FyZC50aHJlYWQnLCBbXHJcbiAgICAndWkuYm9vdHN0cmFwJ1xyXG5dKVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcclxuICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAuc3RhdGUoJ3RocmVhZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy90aHJlYWQvOmlkJyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInRocmVhZFwiPjx1aS12aWV3Lz48L2Rpdj4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7IiwiIiwiYW5ndWxhci5tb2R1bGUoJ21Cb2FyZCcsIFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAndG9hc3RyJyxcclxuICAgICdtQm9hcmQubGF0ZXN0JyxcclxuICAgICdtQm9hcmQuY2F0ZWdvcmllcydcclxuXSlcclxuICAgIC5ydW4oZnVuY3Rpb24gKCRyb290U2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLyosIEF1dGhTZXJ2aWNlKi8pIHtcclxuICAgICAgICAkcm9vdFNjb3BlLiRzdGF0ZSA9ICRzdGF0ZTtcclxuICAgICAgICAkcm9vdFNjb3BlLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcclxuXHJcbiAgICAgICAgLy9TdGF0ZSBldmVudHNcclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2LCB0bywgdG9QYXJhbXMsIGZyb20sIGZyb21QYXJhbXMpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5wcmV2aW91c1N0YXRlID0gZnJvbS5uYW1lO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmN1cnJlbnRTdGF0ZSA9IHRvLm5hbWU7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGNoYW5nZSB0byBzdGF0ZScsIHRvU3RhdGUsIGVycm9yKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdsYW5kaW5nJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZU5vdEZvdW5kJywgZnVuY3Rpb24gKGV2ZW50LCB1bmZvdW5kU3RhdGUsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTdGF0ZSBub3QgZm91bmQ6ICcsIHVuZm91bmRTdGF0ZSwgJywgY29taW5nIGZyb20nLCBmcm9tU3RhdGUpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2xhbmRpbmcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyR2aWV3Q29udGVudExvYWRlZCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyAgICAgICAgICAgICAgRXh0ZXJuYWwgQVBJc1xyXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgdmFyIFBBUlNFX0FQUF9JRCA9ICd5eFBKeDV5U3M4U1dndW1JRXMySmZZVnNJMU9UVTZNdE4yQzFpRzhVJyxcclxuICAgICAgICAgICAgUEFSU0VfSkFWQVNDUklQVF9LRVkgPSAnM3QzYnlDRnBqS082Ukw0OGVuaER1Y0g3RVRHdE5BYXh1VWNKZ1RpNic7XHJcblxyXG4gICAgICAgIC8vSW5pdGlhbGl6ZSBQYXJzZVxyXG4gICAgICAgIFBhcnNlLmluaXRpYWxpemUoUEFSU0VfQVBQX0lELCBQQVJTRV9KQVZBU0NSSVBUX0tFWSk7XHJcblxyXG4gICAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uVG9rZW4nKTtcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgUGFyc2UuVXNlci5iZWNvbWUodG9rZW4pLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBjdXJyZW50IHVzZXIgaXMgbm93IHNldCB0byB1c2VyLlxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdzZXNzaW9uVG9rZW4nKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRodHRwUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyLCB0b2FzdHJDb25maWcpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcbiAgICAgICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnZXJyb3JzSW50ZXJjZXB0b3InKTtcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIud2hlbignJywgJy8nKTtcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XHJcbiAgICAgICAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XHJcbiAgICAgICAgICAgIGFsbG93SHRtbDogdHJ1ZSxcclxuICAgICAgICAgICAgcG9zaXRpb25DbGFzczogJ3RvYXN0LWJvdHRvbS1yaWdodCdcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL3VzZSB0aGUgSFRNTDUgSGlzdG9yeSBBUElcclxuICAgICAgICAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICB9KVxyXG4gICAgLmZhY3RvcnkoJ2Vycm9yc0ludGVyY2VwdG9yJywgZnVuY3Rpb24gKCRxLCAkaW5qZWN0b3IsIHRvYXN0cikge1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXNwb25zZUVycm9yKHJlamVjdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlamVjdGlvbi5kYXRhO1xyXG4gICAgICAgICAgICB2YXIgbXNnID0gZGF0YS5lcnJvciA/IGRhdGEuZXJyb3IubWVzc2FnZSB8fCBkYXRhLmVycm9yLmVycm9yIDogZGF0YTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBlcnJvcjonLCBtc2cpO1xyXG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoJycsIG1zZyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW47XHJcbiAgICAgICAgICAgLyogJGluamVjdG9yLmludm9rZShmdW5jdGlvbiAoQXV0aFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gQXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiovXHJcbiAgICAgICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcclxuICAgICAgICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmVhcmVyICcgKyB0b2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWVzdDogcmVxdWVzdCxcclxuICAgICAgICAgICAgcmVzcG9uc2VFcnJvcjogcmVzcG9uc2VFcnJvclxyXG4gICAgICAgIH07XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnbUJvYXJkLmNhdGVnb3JpZXMnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ0NhdGVnb3JpZXNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xyXG5cclxuICAgIH0pOyIsIiIsImFuZ3VsYXIubW9kdWxlKCdtQm9hcmQubGF0ZXN0JylcclxuICAgIC5jb250cm9sbGVyKCdMYXRlc3RDdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xyXG5cclxuICAgIH0pOyIsIiIsIiIsIiIsIiIsIiIsImFuZ3VsYXIubW9kdWxlKCdtQm9hcmQnKVxyXG4gICAgLmNvbnRyb2xsZXIoJ01Cb2FyZEN0cmwnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHNjb3BlKSB7XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnbUJvYXJkJylcclxuICAgIC5kaXJlY3RpdmUoJ21iRm9vdGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvbW1vbi9jb21wb25lbnRzL2Zvb3Rlci90ZW1wbGF0ZXMvZm9vdGVyLnRwbC5odG1sJ1xyXG4gICAgICAgIH07XHJcbiAgICB9KTsiLCIiLCJhbmd1bGFyLm1vZHVsZSgnbUJvYXJkJylcclxuICAgIC5kaXJlY3RpdmUoJ21iSGVhZGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvbW1vbi9jb21wb25lbnRzL2hlYWRlci90ZW1wbGF0ZXMvaGVhZGVyLnRwbC5odG1sJ1xyXG4gICAgICAgIH07XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgnbUJvYXJkJylcclxuICAgIC5mYWN0b3J5KCdDYXRlZ29yaWVzU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldENhdGVnb3JpZXMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS9jYXRlZ29yaWVzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRDYXRlZ29yeShpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvY2F0ZWdvcmllcy8nICsgaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcG9zdENhdGVnb3J5KG5hbWUsIGxhdGVzdFRocmVhZHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3R0KCdhcGkvY2F0ZWdvcmllcycsIHtuYW1lOiBuYW1lLCBsYXRlc3RUaHJlYWRzOiBsYXRlc3RUaHJlYWRzfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwdXRDYXRlZ29yeShpZCwgbmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KCdhcGkvY2F0ZWdvcmllcy8nICsgaWQsIHtuYW1lOiBuYW1lfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxldGVDYXRlZ29yeShpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZGVsZXRlKCdhcGkvY2F0ZWdvcmllcy8nICsgaWQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0Q2F0ZWdvcmllczogZ2V0Q2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgZ2V0Q2F0ZWdvcnk6IGdldENhdGVnb3J5LFxyXG4gICAgICAgICAgICBwb3N0Q2F0ZWdvcnk6IHBvc3RDYXRlZ29yeSxcclxuICAgICAgICAgICAgcHV0Q2F0ZWdvcnk6IHB1dENhdGVnb3J5LFxyXG4gICAgICAgICAgICBkZWxldGVDYXRlZ29yeTogZGVsZXRlQ2F0ZWdvcnlcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbUJvYXJkJylcclxuICAgIC5mYWN0b3J5KCdUaHJlYWRzU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRocmVhZHMoY2F0ZWdvcnlJZCwgc2tpcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvdGhyZWFkcycsIHtwYXJhbXM6IHtjYXRlZ29yeUlkOiBjYXRlZ29yeUlkLCBza2lwOiBza2lwfX0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGhyZWFkKGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS90aHJlYWRzLycgKyBpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwb3N0VGhyZWFkKHRpdGxlLCBib2R5LCBjYXRlZ29yeUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0dCgnYXBpL3RocmVhZHMnLCB7dGl0bGU6IHRpdGxlLCBib2R5OiBib2R5LCBjYXRlZ29yeUlkOiBjYXRlZ29yeUlkfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwdXRUaHJlYWQoaWQsIHRpdGxlLCBib2R5LCBjYXRlZ29yeUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoJ2FwaS90aHJlYWRzLycgKyBpZCwge3RpdGxlOiB0aXRsZSwgYm9keTogYm9keSwgY2F0ZWdvcnlJZDogY2F0ZWdvcnlJZH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlVGhyZWFkKGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cC5kZWxldGUoJ2FwaS90aHJlYWRzLycgKyBpZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRUaHJlYWRzOiBnZXRUaHJlYWRzLFxyXG4gICAgICAgICAgICBnZXRUaHJlYWQ6IGdldFRocmVhZCxcclxuICAgICAgICAgICAgcG9zdFRocmVhZDogcG9zdFRocmVhZCxcclxuICAgICAgICAgICAgcHV0VGhyZWFkOiBwdXRUaHJlYWQsXHJcbiAgICAgICAgICAgIGRlbGV0ZVRocmVhZDogZGVsZXRlVGhyZWFkXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
